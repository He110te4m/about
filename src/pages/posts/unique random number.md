---
title: "取不重复随机数"
description: "一. 问题\r\n给定整数集 (1-10000)，取出任意个不重复的随机数 (1-10000 个)\r\n\r\n二. 要求\r\n最大执行时间不能超过 5s\r\n\r\n三. 思路\r\n1. 思路一\r\n不停取出随机数，判断是否重复，这种方法效率极低，执行时间基本不止 5s，故放弃"
createdAt: 1487506393000
category: "PHP"
tags: ["Algorithm"]
---

# 一. 问题

给定整数集(1-10000)，取出任意个不重复的随机数(1-10000 个)

# 二. 要求

最大执行时间不能超过 5s

# 三. 思路

## 思路一

不停取出随机数，判断是否重复，这种方法效率极低，执行时间基本不止 5s，故放弃

### 完整代码

```php
$tmp = array();
$n = 20;
// 数组元素个数小于 n 个
while (count($tmp) < $n) {
    // 随机一个1-10000的数
    $a = rand(1, 10000);
    // 判断数组中有没有$a相同的元素，没有就写入数组
    if (!in_array($a, $tmp)) {
            $tmp[] = $a;
    }
}
```

## 思路二

首先定义一个一维数组，包含整数集 1-10000：

```php
$arr = range(1, 10000);
```

接下来对数组进行随机排序：

```php
shuffle ($numbers);
```

最后按数组顺序取值，即可取出随机不重复的随机数

### 完整代码

```php
$n = 20;
$numbers = range(1, 10000);             //将1到10000组成一个数组
shuffle($numbers);                      //对数组进行随机排序
$result = array_slice($numbers, 1, $n); //取数组前 $n 个元素
```

## 思路三

取出随机数，删除重复的元素，再继续取随机数，直到没有重复为止

### 完整代码

```php
$tmp = array();
$n = 20;
while (count($tmp) < $n) {           //数组元素个数小于5个
    $tmp[] = rand(1, 10000);           //随机一个1-20的数放入数组
    $tmp   = array_unique($tmp);    //删除数组中重复的元素
}
```
